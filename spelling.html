<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spelling Challenge Deluxe</title>

<style>
body{
  margin:0;
  font-family:"Trebuchet MS", sans-serif;
  background:linear-gradient(135deg,#ffd6ec,#e5c6ff,#ffc0e6);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.container{
  width:800px;
  text-align:center;
}

h1{
  font-size:52px;
  color:white;
  text-shadow:0 5px 20px rgba(0,0,0,0.25);
}

.stats{
  background:rgba(255,255,255,0.75);
  padding:15px;
  border-radius:40px;
  box-shadow:0 8px 25px rgba(0,0,0,0.2);
  margin-bottom:20px;
  font-size:18px;
}

.card{
  background:rgba(255,255,255,0.7);
  padding:30px;
  border-radius:30px;
  box-shadow:0 20px 40px rgba(0,0,0,0.25);
}

input{
  width:70%;
  padding:14px;
  border-radius:20px;
  border:none;
  font-size:18px;
  margin:15px 0;
  box-shadow:inset 0 3px 8px rgba(0,0,0,0.1);
}

button{
  padding:12px 18px;
  margin:6px;
  border:none;
  border-radius:15px;
  font-weight:bold;
  cursor:pointer;
  color:white;
  transition:0.2s;
  box-shadow:0 6px 12px rgba(0,0,0,0.2);
}

button:hover{transform:translateY(-3px);}

.start{background:#34c759;}
.stop{background:#ff3b30;}
.check{background:#5856d6;}
.speak{background:#ff9500;}
.music{background:#af52de;}
.loot{background:#ff9f0a;}
.boss{background:#ff2d55;}

.feedback{
  font-size:20px;
  font-weight:bold;
  margin-top:10px;
}

.avatar-display{
  font-size:80px;
  margin-top:20px;
  transition:0.4s;
}

.sparkle{
  animation:sparkle 0.8s ease;
}

@keyframes sparkle{
  0%{transform:scale(1);}
  50%{transform:scale(1.5);}
  100%{transform:scale(1);}
}

.shop{
  margin-top:25px;
}

.avatar-item{
  display:inline-block;
  margin:10px;
  padding:15px;
  font-size:45px;
  border-radius:25px;
  background:rgba(255,255,255,0.6);
  cursor:pointer;
  transition:0.3s;
  box-shadow:0 6px 15px rgba(0,0,0,0.15);
}

.avatar-item:hover{
  transform:scale(1.15);
  box-shadow:0 10px 25px rgba(0,0,0,0.25);
}

.selected{
  border:4px solid gold;
}

.locked{
  opacity:0.35;
  cursor:not-allowed;
}

.rarity-common{color:#6b7280;font-size:12px;}
.rarity-rare{color:#2563eb;font-size:12px;}
.rarity-legendary{color:#d97706;font-size:12px;font-weight:bold;}

.badges{
  margin-top:20px;
  font-size:14px;
}
</style>
</head>

<body>

<div class="container">

<h1>Spelling Challenge</h1>

<div class="stats">
Score: <span id="score">0</span> |
Coins: ü™ô <span id="coins">0</span> |
XP: ‚≠ê <span id="xp">0</span> |
Level: <span id="level">1</span> |
Time: <span id="time">60</span>s
</div>

<div class="card">

<div id="prompt">Press Start to begin!</div>

<input id="userInput" placeholder="Type spelling" disabled>

<br>

<button class="start" onclick="startGame()">Start</button>
<button class="stop" onclick="stopGame()">Stop</button>
<button class="speak" onclick="speakWord()">Hear</button>
<button class="check" onclick="checkSpelling()">Check</button>
<br>
<button class="music" onclick="toggleMusic()">Music</button>
<button class="loot" onclick="openLoot()">Mystery Egg (200ü™ô)</button>
<button class="boss" onclick="startBoss()">Boss Battle</button>

<div id="feedback" class="feedback"></div>

<div id="avatarDisplay" class="avatar-display">üêª</div>

<div class="shop" id="avatarShop"></div>

<div class="badges">
üèÜ Achievements:
<div id="badgeList"></div>
</div>

</div>
</div>

<script>
const WORD_TIME=60;

/* WORD LIST (trimmed for space ‚Äì use your full list here) */
const words=["accommodate","accompany","according","achieve","aggressive","amateur","ancient","apparent","appreciate","attached","available","average","awkward","bargain","bruise","category","cemetery","committee","communicate","community","competition","conscience","conscious","controversy","convenience","correspond","criticise","curiosity","definite","desperate","determined","develop","dictionary","disastrous","embarrass","environment","equipment","equipped","especially","exaggerate","excellent","existence","explanation","familiar","foreign","forty","frequently","government","guarantee"];

const avatars=[
{emoji:"üêª",price:0,rarity:"common"},
{emoji:"üê∞",price:100,rarity:"common"},
{emoji:"üê∂",price:120,rarity:"common"},
{emoji:"üê±",price:150,rarity:"rare"},
{emoji:"üêº",price:200,rarity:"rare"},
{emoji:"ü¶Ñ",price:400,rarity:"legendary"},
{emoji:"üçì",price:90,rarity:"common"},
{emoji:"üßÅ",price:140,rarity:"rare"},
{emoji:"üç∞",price:350,rarity:"legendary"}
];

let score=0,coins=0,xp=0,level=1;
let currentWord="",timer,timeLeft=WORD_TIME;
let owned=["üêª"],selected="üêª";
let badges=[];
let bossMode=false;

/* ENTER KEY */
document.getElementById("userInput").addEventListener("keydown",e=>{
  if(e.key==="Enter") checkSpelling();
});

/* GAME */
function startGame(){
  document.getElementById("userInput").disabled=false;
  nextWord();
}

function stopGame(){
  clearInterval(timer);
  document.getElementById("userInput").disabled=true;
  document.getElementById("prompt").textContent="Game stopped.";
}

function nextWord(){
  bossMode=false;
  currentWord=words[Math.floor(Math.random()*words.length)];
  document.getElementById("prompt").textContent="Listen carefully!";
  speakWord();
  startTimer();
}

function startBoss(){
  bossMode=true;
  currentWord=words[Math.floor(Math.random()*words.length)];
  document.getElementById("prompt").textContent="üëë BOSS WORD!";
  speakWord();
  startTimer();
}

function startTimer(){
  timeLeft=WORD_TIME;
  clearInterval(timer);
  timer=setInterval(()=>{
    timeLeft--;
    updateStats();
    if(timeLeft<=0){
      clearInterval(timer);
      document.getElementById("feedback").textContent="Time up! Word was "+currentWord;
      setTimeout(nextWord,2000);
    }
  },1000);
}

function speakWord(){
  const s=new SpeechSynthesisUtterance(currentWord);
  s.lang="en-GB";
  speechSynthesis.speak(s);
}

function checkSpelling(){
  clearInterval(timer);
  const input=document.getElementById("userInput");
  const ans=input.value.trim().toLowerCase();

  if(ans===currentWord){
    score+=10;
    coins+=bossMode?100:25;
    xp+=20;
    input.value="";  // clears text
    document.getElementById("feedback").textContent="Correct! üéâ";
    unlockAchievements();
  }else{
    document.getElementById("feedback").textContent="Incorrect ‚Äî "+currentWord;
  }

  if(xp>=100){
    xp=0;
    level++;
    coins+=50;
  }

  updateStats();
  renderShop();
  setTimeout(nextWord,1500);
}

/* SHOP */
function renderShop(){
  const shop=document.getElementById("avatarShop");
  shop.innerHTML="";
  avatars.forEach(a=>{
    const div=document.createElement("div");
    div.className="avatar-item";
    div.innerHTML=a.emoji+"<br>"+a.price+"ü™ô<br><span class='rarity-"+a.rarity+"'>"+a.rarity+"</span>";

    if(selected===a.emoji) div.classList.add("selected");

    if(!owned.includes(a.emoji)){
      if(coins<a.price) div.classList.add("locked");
      div.onclick=()=>buyAvatar(a);
    }else{
      div.onclick=()=>selectAvatar(a.emoji);
    }
    shop.appendChild(div);
  });
}

function buyAvatar(a){
  if(coins>=a.price){
    coins-=a.price;
    owned.push(a.emoji);
    selectAvatar(a.emoji);
    const display=document.getElementById("avatarDisplay");
    display.classList.add("sparkle");
    setTimeout(()=>display.classList.remove("sparkle"),800);
  }
}

function selectAvatar(e){
  selected=e;
  document.getElementById("avatarDisplay").textContent=e;
  renderShop();
}

/* LOOT */
function openLoot(){
  if(coins<200) return alert("Not enough coins!");
  coins-=200;
  const random=avatars[Math.floor(Math.random()*avatars.length)];
  if(!owned.includes(random.emoji)){
    owned.push(random.emoji);
    selectAvatar(random.emoji);
  }else{
    coins+=100;
  }
  renderShop();
}

/* ACHIEVEMENTS */
function unlockAchievements(){
  if(score>=100&&!badges.includes("Century Star")) badges.push("Century Star ‚≠ê");
  if(level>=5&&!badges.includes("Level Master")) badges.push("Level Master üëë");
  document.getElementById("badgeList").innerHTML=badges.join("<br>");
}

/* UPDATE */
function updateStats(){
  document.getElementById("score").textContent=score;
  document.getElementById("coins").textContent=coins;
  document.getElementById("xp").textContent=xp;
  document.getElementById("level").textContent=level;
  document.getElementById("time").textContent=timeLeft;
}

renderShop();
updateStats();
</script>

</body>
</html>
